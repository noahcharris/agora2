var 
fs = require('fs'),
domain = require('domain'),
d = domain.create();

function readSomeFile(filename, cb) {
  fs.readFile(filename, 'utf8', d.bind(function(er, data) {
	return cb(er, data ? JSON.parse(data) : null);
  }));
}

d.on('error', function(er) {
	// There is no stack
	// I expect to see readSomeFile, fs.readFile, [...] in this stack
 	console.log(er.stack);
});

readSomeFile('invalid filename', function(er, data){
	if (er) {
		throw er;
	}
});
